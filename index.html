<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Business Pro - Guiding Your Business to Online Success</title>
    <meta
      name="description"
      content="Professional business solutions for online success. Strategic planning, team collaboration, and innovative technology to grow your enterprise."
    />
    <meta name="author" content="Business Pro" />

    <meta
      property="og:title"
      content="Business Pro - Professional Business Solutions"
    />
    <meta
      property="og:description"
      content="Comprehensive business services including strategic planning, team collaboration, and cutting-edge technology solutions."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:image"
      content="https://lovable.dev/opengraph-image-p98pqg.png"
    />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@lovable_dev" />
    <meta
      name="twitter:image"
      content="https://lovable.dev/opengraph-image-p98pqg.png"
    />

    <style>
      #statusIndicator {
        position: fixed;
        bottom: 16px;
        right: 16px;
        background: rgba(255, 255, 255, 0.9);
        padding: 10px 16px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        font-family: system-ui, sans-serif;
        z-index: 9999;
      }

      #statusLight {
        width: 14px;
        height: 14px;
        border-radius: 50%;
        background-color: gray;
      }
    </style>
  </head>

  <body>
    <!-- React Root -->
    <div id="root"></div>

    <!-- Wakeup Indicator -->
    <div id="statusIndicator">
      <span id="statusText">Waking up server...</span>
      <span id="statusLight"></span>
    </div>

    <script type="module" src="/src/main.tsx"></script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const statusText = document.getElementById("statusText");
        const statusLight = document.getElementById("statusLight");
        const API_ENDPOINT = "https://aidetect-github-io.onrender.com";

        async function wakeUpServer() {
          statusText.innerText = "Waking up server...";
          statusLight.style.backgroundColor = "gray";

          try {
            const response = await fetch(`${API_ENDPOINT}/api/wakeup`);
            if (response.ok) {
              statusText.innerText = "Checking server status...";
              setTimeout(checkServerStatus, 5000);
            } else {
              statusText.innerText = "Wakeup request failed";
              statusLight.style.backgroundColor = "red";
            }
          } catch (error) {
            statusText.innerText = "Unable to connect";
            statusLight.style.backgroundColor = "red";
          }
        }

        async function checkServerStatus() {
          try {
            const response = await fetch(`${API_ENDPOINT}/api/status`);
            const data = await response.json();

            if (data.status === "online") {
              statusText.innerText = "Server Online";
              statusLight.style.backgroundColor = "green";
            } else {
              statusText.innerText = "Waiting for server...";
              statusLight.style.backgroundColor = "orange";
              setTimeout(checkServerStatus, 5000);
            }
          } catch (error) {
            statusText.innerText = "Retrying...";
            statusLight.style.backgroundColor = "gray";
            setTimeout(checkServerStatus, 5000);
          }
        }

        wakeUpServer();
      });
    </script>
  </body>
</html>
